document.addEventListener("DOMContentLoaded",()=>{const siteNavigation=document.getElementById("site-navigation");if(!siteNavigation){return}const menuToggle=siteNavigation.querySelector(".menu-toggle");const navMenu=siteNavigation.querySelector("ul");if(!menuToggle||!navMenu){return}menuToggle.setAttribute("aria-controls",navMenu.getAttribute("id"));menuToggle.setAttribute("aria-expanded","false");if(!navMenu.childNodes.length){menuToggle.style.display="none";return}if(!navMenu.classList.contains("nav-menu")){navMenu.classList.add("nav-menu")}menuToggle.addEventListener("click",()=>{navMenu.classList.toggle("active");if(menuToggle.getAttribute("aria-expanded")==="true"){menuToggle.setAttribute("aria-expanded","false")}else{menuToggle.setAttribute("aria-expanded","true")}});document.addEventListener("click",event=>{const isClickInside=siteNavigation.contains(event.target);if(!isClickInside){navMenu.classList.remove("active");menuToggle.setAttribute("aria-expanded","false")}});document.querySelectorAll('a[href^="#"]').forEach(anchor=>{anchor.addEventListener("click",function(e){const href=this.getAttribute("href");if(href.charAt(0)==="#"){e.preventDefault();const target=document.querySelector(href);if(target){if(window.innerWidth<768){navMenu.classList.remove("active");menuToggle.setAttribute("aria-expanded","false")}target.scrollIntoView({behavior:"smooth"})}}})});const linksWithChildren=navMenu.querySelectorAll(".menu-item-has-children > a, .page_item_has_children > a");for(const link of linksWithChildren){link.addEventListener("touchstart",toggleFocus,false)}function toggleFocus(){if(event.type==="touchstart"){const menuItem=this.parentNode;event.preventDefault();for(const link of menuItem.parentNode.children){if(menuItem!==link){link.classList.remove("focus")}}menuItem.classList.toggle("focus")}}});