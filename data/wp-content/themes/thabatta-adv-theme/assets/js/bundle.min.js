(g=>{g(document).ready(function(){g('a[href*="#"]:not([href="#"]):not([href="#0"])').click(function(){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var e=g(this.hash);if((e=e.length?e:g("[name="+this.hash.slice(1)+"]")).length)return g("html, body").animate({scrollTop:e.offset().top-100},1e3),!1}});var e=g(".site-header"),o=e.outerHeight(),t=g("body");g(window).scroll(function(){100<g(this).scrollTop()?(e.addClass("sticky"),t.css("padding-top",o+"px")):(e.removeClass("sticky"),t.css("padding-top","0"))}),g(".menu-toggle").on("click",function(e){e.preventDefault(),g(".main-navigation").toggleClass("toggled"),g("body").toggleClass("menu-open")}),g(".menu-item-has-children > a, .page_item_has_children > a").append('<span class="dropdown-toggle"><i class="fas fa-chevron-down"></i></span>'),g(".dropdown-toggle").on("click",function(e){e.preventDefault(),g(this).toggleClass("toggle-on"),g(this).parent().next(".sub-menu, .children").toggleClass("toggled-on")}),g(".accordion-header").on("click",function(){g(this).toggleClass("active"),g(this).next(".accordion-content").slideToggle(300)}),void 0!==g.fn.slick&&(g(".testimonial-slider").slick({dots:!0,infinite:!0,speed:300,slidesToShow:1,adaptiveHeight:!0,autoplay:!0,autoplaySpeed:5e3}),g(".areas-slider").slick({dots:!0,infinite:!0,speed:300,slidesToShow:3,slidesToScroll:1,autoplay:!0,autoplaySpeed:4e3,responsive:[{breakpoint:992,settings:{slidesToShow:2}},{breakpoint:768,settings:{slidesToShow:1}}]}));var n=g(".counter"),a=(n.length&&g(window).on("scroll",function(){var o=g(window).height(),t=g(window).scrollTop();n.each(function(){var e=g(this);e.offset().top<t+o&&!e.hasClass("counted")&&(e.addClass("counted"),g(".counter").each(function(){var e=g(this),o=e.attr("data-count");g({countNum:e.text()}).animate({countNum:o},{duration:2e3,easing:"swing",step:function(){e.text(Math.floor(this.countNum))},complete:function(){e.text(this.countNum)}})}))})}),g(".contact-form .form-control").on("focus blur",function(e){g(this).parents(".form-group").toggleClass("focused","focus"===e.type||""!==this.value)}).trigger("blur"),g(".back-to-top")),s=(g(window).scroll(function(){300<g(window).scrollTop()?a.addClass("show"):a.removeClass("show")}),a.on("click",function(e){e.preventDefault(),g("html, body").animate({scrollTop:0},800)}),"undefined"!=typeof AOS&&AOS.init({duration:800,easing:"ease-in-out",once:!0}),document.getElementById("consultationForm")),i=document.getElementById("multiStepForm"),l=document.querySelectorAll(".step"),c=document.querySelectorAll(".step-indicator"),r=document.getElementById("prevBtn"),d=document.getElementById("nextBtn"),u=document.getElementById("submitBtn"),m=document.getElementById("formSuccess");function p(){i&&(i.reset(),f(1),g(m).addClass("hidden"),g(i).show())}function f(e){var o;l.length&&(o=e,g(r).toggleClass("hidden",1===o),g(d).toggleClass("hidden",o===l.length),g(u).toggleClass("hidden",o!==l.length),g(l).removeClass("active"),g(l[o-1]).addClass("active"),g(c).each(function(e){e+1<o?g(this).addClass("completed").removeClass("active"):e+1===o?g(this).addClass("active").removeClass("completed"):g(this).removeClass("active completed")}))}function h(e){var e=l[e-1].querySelectorAll("[required]"),t=!0;return e.forEach(function(e){var o;g(e).removeClass("invalid"),g(".error-message").remove(),e.value.trim()||(t=!1,g(e).addClass("invalid"),o=g('<span class="error-message" style="color: red; font-size: 12px;">Este campo é obrigatório</span>'),g(e).after(o))}),t}g(".open-consultation-form").on("click",function(e){e.preventDefault(),s?(g(s).addClass("active"),g("body").css("overflow","hidden"),console.log("Formulário de consulta aberto")):console.error("Elemento do formulário de consulta não encontrado")}),g(".close-form, .form-overlay").on("click",function(){g(s).removeClass("active"),g("body").css("overflow",""),p()}),g(".close-success").on("click",function(){g(s).removeClass("active"),g("body").css("overflow",""),p()}),g(d).on("click",function(){var e=g(l).index(g(l).filter(".active"))+1;h(e)&&f(e+1)}),g(r).on("click",function(){f(g(l).index(g(l).filter(".active"))+1-1)}),g(i).on("submit",function(e){e.preventDefault(),h(g(l).index(g(l).filter(".active"))+1)&&((e=new FormData(i)).append("action","thabatta_submit_consultation"),g(u).prop("disabled",!0).html('<i class="fas fa-spinner fa-spin"></i> Enviando...'),g.ajax({url:thabattaData.ajaxUrl,type:"POST",data:e,processData:!1,contentType:!1,success:function(e){g(u).prop("disabled",!1).text("Enviar"),e.success?(g(i).hide(),g(m).removeClass("hidden"),i.reset()):alert(e.data||"Ocorreu um erro ao enviar sua consulta. Por favor, tente novamente.")},error:function(){g(u).prop("disabled",!1).text("Enviar"),alert("Ocorreu um erro ao enviar sua consulta. Por favor, tente novamente.")}}))}),g.fn.mask&&(g(".phone-mask").mask("(00) 00000-0000"),g(".cpfcnpj-mask").mask("000.000.000-000",{onKeyPress:function(e,o,t,n){var a=["000.000.000-000","00.000.000/0000-00"],e=14<e.length?a[1]:a[0];g(".cpfcnpj-mask").mask(e,n)}})),s&&i&&(console.log("Formulário de consulta encontrado, inicializando..."),f(1))})})(jQuery);